<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/04/22/hello-world/"/>
      <url>/2020/04/22/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>小明同学为了战斗而生</title>
      <link href="/2020/02/16/sort-algorithms/"/>
      <url>/2020/02/16/sort-algorithms/</url>
      
        <content type="html"><![CDATA[<blockquote></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h2 id="性质汇总"><a href="#性质汇总" class="headerlink" title="性质汇总"></a>性质汇总</h2><blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> 编程算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一章   MySQL 大纲介绍</title>
      <link href="/2020/02/16/di-yi-zhang-mysql-da-gang-jie-shao/"/>
      <url>/2020/02/16/di-yi-zhang-mysql-da-gang-jie-shao/</url>
      
        <content type="html"><![CDATA[<h2 id="1、官方定义的MySQL-DBA工作内容"><a href="#1、官方定义的MySQL-DBA工作内容" class="headerlink" title="1、官方定义的MySQL  DBA工作内容"></a>1、官方定义的MySQL  DBA工作内容</h2><pre class="line-numbers language-undefined"><code class="language-undefined">（1）运维DBA初级：各版本、各平台安装搭建、升级中级：体系结构原理、基础管理（启动关闭、初始化配置文件管理、多实例管理、用户权限管理、基本SQL（增删改查））、     日志管理、备份与恢复、主从复制（构建、状态监控） 高级：高可用（MGR、InnoDB Cluster）、高性能（优化）（2）开发DBA懂至少一门开发语言 ：JAVA、Python基本SQL语句深入学习（增删改查）、数据库结构设计（建模）高级SQL：存储过程、函数、触发器、视图、事件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2、MySQL课程-2019-03月-中级DBA要求（80-以上）"><a href="#2、MySQL课程-2019-03月-中级DBA要求（80-以上）" class="headerlink" title="2、MySQL课程-2019-03月-中级DBA要求（80%以上）"></a>2、MySQL课程-2019-03月-中级DBA要求（80%以上）</h2><pre class="line-numbers language-css"><code class="language-css">（<span class="token number">1</span>）MySQL <span class="token number">5.7</span> 安装部署（二进制）*****    编译自己扩展（<span class="token number">2</span>）MySQL升级步骤扩展 ***（<span class="token number">3</span>）MySQL<span class="token number">5.7</span> 体系结构原理 *****（<span class="token number">4</span>）MySQL基础管理  *****（<span class="token number">5</span>）基础SQL语句使用 *****（<span class="token number">6</span>）SQL高级应用  ***（<span class="token number">7</span>）Information_schema获取元数据 ***（<span class="token number">8</span>）索引、执行计划管理（基础优化）*****（<span class="token number">9</span>）存储引擎  *****（<span class="token number">10</span>）日志管理 *****（<span class="token number">11</span>）备份与恢复 ******（<span class="token number">12</span>）主从复制及架构演变 ******（<span class="token number">13</span>）传统的高可用及读写分离（MHA&amp;Atlas）****（<span class="token number">14</span>）传统分布式架构设计与实现-扩展（Mycat--->DBLE,DRDS）**（<span class="token number">15</span>）MySQL <span class="token number">5.7</span> 高可用及分布式架构-扩展（MGR,InnoDB Cluster）***（<span class="token number">16</span>）MySQL优化（安全、性能） ****（<span class="token number">17</span>）MySQL 监控（zabbix、Open-falcon）    **** <span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token function">RDS</span><span class="token punctuation">(</span>阿里云课程<span class="token punctuation">)</span>    *****额外要会的：    Redis    mongodb     了解<span class="token punctuation">:</span>     PG    Oracle  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、DBA职业素养"><a href="#3、DBA职业素养" class="headerlink" title="3、DBA职业素养"></a>3、DBA职业素养</h2><hr><h3 id="3-1、人品"><a href="#3-1、人品" class="headerlink" title="3.1、人品"></a>3.1、人品</h3><pre class="line-numbers language-undefined"><code class="language-undefined">责任-----权利<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h3><h4 id="3-2-1、严谨"><a href="#3-2-1、严谨" class="headerlink" title="3.2.1、严谨"></a>3.2.1、严谨</h4><pre class="line-numbers language-rust"><code class="language-rust">磁带库<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">-></span>备份软件<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">17</span>楼数据库修改\删除类的命令时 再三考虑，而且要有理论或者实践的支撑<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="3-2-2-请收起你的好奇心！！！！！"><a href="#3-2-2-请收起你的好奇心！！！！！" class="headerlink" title="3.2.2 请收起你的好奇心！！！！！"></a>3.2.2 请收起你的好奇心！！！！！</h4><pre class="line-numbers language-undefined"><code class="language-undefined">注意规范:脱库？ 华住网（ip root 密码），“脱敏”!!!!!。学会保护自己!!!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="3-3、细心"><a href="#3-3、细心" class="headerlink" title="3.3、细心"></a>3.3、细心</h3><pre class="line-numbers language-undefined"><code class="language-undefined">把最简单的事情做的最漂亮，最专业。不要怕成功的门很拥挤,因为很多人在半路就已经放弃了.                                           ----oldguo                     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="3-4、心态"><a href="#3-4、心态" class="headerlink" title="3.4、心态"></a>3.4、心态</h3><pre class="line-numbers language-undefined"><code class="language-undefined">别惹事，出事别怕事<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-5、熟悉操作系统（精通）"><a href="#3-5、熟悉操作系统（精通）" class="headerlink" title="3.5、熟悉操作系统（精通）"></a>3.5、熟悉操作系统（精通）</h3><h3 id="3-6、熟悉公司业务"><a href="#3-6、熟悉公司业务" class="headerlink" title="3.6、熟悉公司业务"></a>3.6、熟悉公司业务</h3><pre class="line-numbers language-undefined"><code class="language-undefined">业务？    产品的功能    用户的行为(热功能,热数据)      <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="3-7、熟悉行业"><a href="#3-7、熟悉行业" class="headerlink" title="3.7、熟悉行业"></a>3.7、熟悉行业</h3><pre class="line-numbers language-cpp"><code class="language-cpp">熟悉行业发展趋势版本数据库产品类型https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>db<span class="token operator">-</span>engines<span class="token punctuation">.</span>com<span class="token operator">/</span>en<span class="token operator">/</span>ranking<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-8、喜欢数据库"><a href="#3-8、喜欢数据库" class="headerlink" title="3.8、喜欢数据库"></a>3.8、喜欢数据库</h3><pre class="line-numbers language-undefined"><code class="language-undefined">体验很重要<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="第二章-MySQL-介绍和安装"><a href="#第二章-MySQL-介绍和安装" class="headerlink" title="第二章: MySQL 介绍和安装"></a>第二章: MySQL 介绍和安装</h1><h2 id="1、什么是数据？"><a href="#1、什么是数据？" class="headerlink" title="1、什么是数据？"></a>1、什么是数据？</h2><pre class="line-numbers language-powershell"><code class="language-powershell">数据：文字、图片、视频。。。人类认知的数据表现方式计算机：二进制、16进制的机器语言基于数据的重要性和复杂性的不同，我们可能有不同的管理方式。哪些数据是适合存储到数据库的呢？重要性比较高的关系较复杂的数据<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2、什么是数据库管理系统（DBMS）？"><a href="#2、什么是数据库管理系统（DBMS）？" class="headerlink" title="2、什么是数据库管理系统（DBMS）？"></a>2、什么是数据库管理系统（DBMS）？</h2><pre class="line-numbers language-powershell"><code class="language-powershell">RDBMS: 关系型数据库管理系统比较适合于<span class="token punctuation">,</span>安全级别要求高的数据以及关系较复杂的数据NoSQL:非关系型数据库管理系统适合于高性能存取数据<span class="token punctuation">,</span>一般是配合RDBMS进行使用的针对大数据处理分析<span class="token punctuation">,</span>分布式架构更加擅长<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3、数据库管理系统种类"><a href="#3、数据库管理系统种类" class="headerlink" title="3、数据库管理系统种类"></a>3、数据库管理系统种类</h2><pre class="line-numbers language-powershell"><code class="language-powershell">RDBMS  ：MySQL 、Oracle、MSSQL（SQL Server）、PGNoSQL：Not Only SQL键<span class="token operator">-</span>值（key<span class="token operator">-</span>value）：Redis<span class="token punctuation">,</span> memcached文档（document）：Mongodb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-数据库产品时代演变"><a href="#4-数据库产品时代演变" class="headerlink" title="4-数据库产品时代演变"></a>4-数据库产品时代演变</h2><pre class="line-numbers language-powershell"><code class="language-powershell">第一代数据库架构：    RDBMS 关系型数据库时代 ： 合的时代    代表产品 ：Oracle 、MSSQL 、MySQL第二代数据库架构：拆的时代    NoSQL  ： Not Only SQL 时代    代表产品： Redis 、MongoDB、ES 第三代数据库架构： 合的时代     NewSQL  ：新型数据库架构时代    代表产品：            阿里系列： OB 、PolarDB            Pincap  ： TiDB            google  ： spanner<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5、MySQL简介及产品线"><a href="#5、MySQL简介及产品线" class="headerlink" title="5、MySQL简介及产品线"></a>5、MySQL简介及产品线</h2><h3 id="5-1-MySQL行业主流版本："><a href="#5-1-MySQL行业主流版本：" class="headerlink" title="5.1 MySQL行业主流版本："></a>5.1 MySQL行业主流版本：</h3><pre class="line-numbers language-css"><code class="language-css">    <span class="token number">5.6</span>      <span class="token number">5.7</span>        <span class="token number">8.0</span><span class="token punctuation">(</span>现在开始研究新特性<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="5-2-企业版本选择-MySQL分支版本-笔试题"><a href="#5-2-企业版本选择-MySQL分支版本-笔试题" class="headerlink" title="5.2 企业版本选择(MySQL分支版本),笔试题"></a>5.2 企业版本选择(MySQL分支版本),笔试题</h3><pre class="line-numbers language-undefined"><code class="language-undefined">Oracle:      MySQL官方版红帽  :      MariaDBPercona:      PerconaDB 面试题     1. 请你介绍你熟悉的数据库产品？   你们公司用了哪些数据库产品？    RDBMS ： MySQL  、Oracle  、PG、 MSSQL    NoSQL :  Redis  、MongoDB 、ES 、Memcached    云数据库：RDS    2. 你喜欢MySQL数据库吗？ 平常如何学习的？ MySQL需要具备哪些技能？    热爱。    官档 、源码、看书、视频、参加一些数据库大会。    技能： 大纲<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-3-版本选择建议要上新环境"><a href="#5-3-版本选择建议要上新环境" class="headerlink" title="5.3 版本选择建议要上新环境"></a>5.3 版本选择建议要上新环境</h3><h3 id="5-34MySQL-产品分支"><a href="#5-34MySQL-产品分支" class="headerlink" title="5.34MySQL 产品分支"></a>5.34MySQL 产品分支</h3><pre class="line-numbers language-powershell"><code class="language-powershell">3<span class="token punctuation">.</span> Oracle MySQL  ：C版 、 E版 、Cluster版Percona MySQL ：最接近于Oracle MySQL MariaDB       ：从5<span class="token punctuation">.</span>5<span class="token operator">+</span> 以后，10<span class="token punctuation">.</span>x <span class="token operator">+</span>版本阿里：  RDS <span class="token keyword">for</span> MySQL 腾讯：  TDSQL <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css"><code class="language-css"><span class="token number">1.</span>一般选择官方主流版本<span class="token punctuation">:</span><span class="token number">5.6</span>,<span class="token number">5.7</span> <span class="token number">2.</span>GA（稳定发布版）<span class="token number">3.6</span>-<span class="token number">12</span>月的产品版本--------------------------<span class="token number">4.</span> MySQL的企业版本选择<span class="token number">5.7</span>  ： 一般选择最新GA版本  <span class="token number">5.7.26</span>   <span class="token number">5.7.28</span> <span class="token number">5.6</span>  ： GA <span class="token number">6</span>-<span class="token number">12</span>月之间的版本 <span class="token number">8.0</span>  ： 一般选择最新GA版本  <span class="token number">8.0.17</span>+<span class="token number">5.6</span> 版本 <span class="token number">2020</span> <span class="token number">10</span>月  常规、扩展服务全部停止<span class="token number">5.7</span> 版本 <span class="token number">2021</span> <span class="token number">1</span>月   常规服务停止<span class="token number">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-4-课程版本："><a href="#5-4-课程版本：" class="headerlink" title="5.4 课程版本："></a>5.4 课程版本：</h3><pre class="line-numbers language-css"><code class="language-css"><span class="token number">5.7.20</span>  二进制安装，其他安装方式自己扩展<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5-5-如何获取MySQL软件"><a href="#5-5-如何获取MySQL软件" class="headerlink" title="5.5 如何获取MySQL软件"></a>5.5 如何获取MySQL软件</h3><pre class="line-numbers language-css"><code class="language-css">企业版：Enterprise  , 互联网行业一般不选择<span class="token number">.</span>社区版本：选择源码包：source code    <span class="token number">.</span>tar<span class="token number">.</span>gz   通用二进制   面试题<span class="token punctuation">:</span>你们公司用什么版本数据库? 具体什么小版本号?<span class="token number">5.6.20</span> <span class="token number">5.6.34</span> <span class="token number">5.6.36</span>  <span class="token number">5.6.38</span>  <span class="token number">5.6.40</span>    <span class="token number">5.7.18</span>  <span class="token number">5.7.20</span>  <span class="token number">5.7.22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>获取软件</p><pre><code>https://downloads.mysql.com/archives/[root@db01 app]# md5sum  mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz1daa30a32b99a92062f481bd3ef8694c  mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz[root@db01 app]# MD5: 1daa30a32b99a92062f481bd3ef8694cdiff a  b  </code></pre><h2 id="5、-MySQL二进-制安装"><a href="#5、-MySQL二进-制安装" class="headerlink" title="5、==MySQL二进==制安装"></a>5、==MySQL二进==制安装</h2><h3 id="5-1-创建软件目录"><a href="#5-1-创建软件目录" class="headerlink" title="5.1.创建软件目录:"></a>5.1.创建软件目录:</h3><pre class="line-numbers language-powershell"><code class="language-powershell">6<span class="token punctuation">.</span>2<span class="token punctuation">.</span>5 清理遗留环境 <span class="token comment" spellcheck="true"># 检查是否有mariadb相关软件</span><span class="token namespace">[root@db01 ~]</span><span class="token comment" spellcheck="true"># rpm -qa|grep mariadb</span><span class="token comment" spellcheck="true"># 如果有，清理掉 </span>yum remove mariadb<span class="token operator">-</span>libs <span class="token operator">-</span>y <span class="token comment" spellcheck="true"># 删掉/etc/my.cnf 已有的配置文件 </span><span class="token function">rm</span> <span class="token operator">-</span>rf <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf 6<span class="token punctuation">.</span>2<span class="token punctuation">.</span>6 安装依赖包 <span class="token namespace">[root@db01 ~]</span><span class="token comment" spellcheck="true"># yum install -y libaio-devel </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token punctuation">[</span>root@db01 <span class="token operator">~</span><span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p  <span class="token operator">/</span>data<span class="token operator">/</span>app 上传软件到此目录<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="5-2-解压并改名为mysql"><a href="#5-2-解压并改名为mysql" class="headerlink" title="5.2. 解压并改名为mysql"></a>5.2. 解压并改名为mysql</h3><pre class="line-numbers language-ruby"><code class="language-ruby"><span class="token punctuation">[</span>root<span class="token variable">@db01</span> app<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># mv mysql-5.7.20-linux-glibc2.12-x86_64 mysql</span><span class="token punctuation">[</span>root<span class="token variable">@China</span> <span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># ln -s /data/app/mysql-5.6.46/  /data/app/mysql</span><span class="token punctuation">[</span>root<span class="token variable">@db01</span> app<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># ls -l /app/mysql/</span>total <span class="token number">36</span>drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">2</span> root root   <span class="token number">4096</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> bin<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>  <span class="token number">1</span> <span class="token number">7161</span> <span class="token number">31415</span> <span class="token number">17987</span> <span class="token constant">Sep</span> <span class="token number">13</span>  <span class="token number">2017</span> <span class="token constant">COPYING</span>drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">2</span> root root     <span class="token number">55</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> docsdrwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">3</span> root root   <span class="token number">4096</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> includedrwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">5</span> root root    <span class="token number">229</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> libdrwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">4</span> root root     <span class="token number">30</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> man<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>  <span class="token number">1</span> <span class="token number">7161</span> <span class="token number">31415</span>  <span class="token number">2478</span> <span class="token constant">Sep</span> <span class="token number">13</span>  <span class="token number">2017</span> <span class="token constant">README</span>drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">28</span> root root   <span class="token number">4096</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> sharedrwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x  <span class="token number">2</span> root root     <span class="token number">90</span> <span class="token constant">Mar</span>  <span class="token number">4</span> <span class="token number">14</span><span class="token punctuation">:</span><span class="token number">55</span> support<span class="token operator">-</span>files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>修改环境变量:</p><pre class="line-numbers language-bash"><code class="language-bash">vim /etc/profile<span class="token punctuation">[</span>root@China /data/app/mysql<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># export  PATH=/data/app/mysql/bin:$PATH</span><span class="token punctuation">[</span>root@db01 bin<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># source /etc/profile</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="5-3-建立mysql用户和组-如果已有可忽略"><a href="#5-3-建立mysql用户和组-如果已有可忽略" class="headerlink" title="5.3. 建立mysql用户和组(如果已有可忽略)"></a>5.3. 建立mysql用户和组(如果已有可忽略)</h3><pre class="line-numbers language-undefined"><code class="language-undefined"> useradd mysql <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5-4-创建相关目录并修改权限"><a href="#5-4-创建相关目录并修改权限" class="headerlink" title="5.4. 创建相关目录并修改权限"></a>5.4. 创建相关目录并修改权限</h3><pre class="line-numbers language-kotlin"><code class="language-kotlin"><span class="token punctuation">[</span><span class="token label symbol">root@</span>db01 ~<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span><span class="token number">3306</span><span class="token operator">/</span><span class="token keyword">data</span>  #数据目录<span class="token punctuation">[</span><span class="token label symbol">root@</span>db01 ~<span class="token punctuation">]</span># useradd  mysql <span class="token operator">-</span>M <span class="token operator">-</span>s <span class="token operator">/</span>sbin<span class="token operator">/</span>nologin <span class="token punctuation">[</span><span class="token label symbol">root@</span>db01 ~<span class="token punctuation">]</span># chown <span class="token operator">-</span>R mysql<span class="token punctuation">.</span>mysql <span class="token operator">/</span><span class="token keyword">data</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="5-5-初始化数据（建库）"><a href="#5-5-初始化数据（建库）" class="headerlink" title="5.5 初始化数据（建库）"></a>5.5 初始化数据（建库）</h3><p>方法一:</p><pre class="line-numbers language-csharp"><code class="language-csharp">初始化数据，初始化管理员的临时密码mysqld <span class="token operator">--</span>initialize  <span class="token operator">--</span>user<span class="token operator">=</span>mysql <span class="token operator">--</span>basedir<span class="token operator">=</span><span class="token operator">/</span>app<span class="token operator">/</span>mysql <span class="token operator">--</span>datadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysql   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">6.2</span><span class="token punctuation">.</span><span class="token number">8</span> 初始化数据<span class="token preprocessor property"># 5.7+ 版本初始化 ：</span>mysqld       <span class="token operator">--</span>initialize<span class="token operator">-</span>insecure      <span class="token operator">--</span>user<span class="token operator">=</span>mysql      <span class="token operator">--</span>basedir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token operator">/</span>mysql        <span class="token operator">--</span>datadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span><span class="token number">3306</span><span class="token operator">/</span>data 有可能的报错：     <span class="token number">1</span><span class="token punctuation">.</span> libaio<span class="token operator">-</span>devel     <span class="token number">2</span><span class="token punctuation">.</span>  <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token operator">--</span>initialize specified but the data directory has files <span class="token keyword">in</span> it<span class="token punctuation">.</span> Aborting<span class="token punctuation">.</span>    rm <span class="token operator">-</span>rf <span class="token operator">/</span>data<span class="token operator">/</span><span class="token number">3306</span><span class="token operator">/</span>data<span class="token operator">/</span><span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https:////upload-images.jianshu.io/upload_images/16956686-35999407e3216f9b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>image.png</p><pre class="line-numbers language-undefined"><code class="language-undefined">报错原因: Linux系统中缺少libaio-devel 软件包解决:yum install -y libaio-devel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https:////upload-images.jianshu.io/upload_images/16956686-28004810e36f801b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1004/format/webp" alt="img"></p><p>image.png</p><pre class="line-numbers language-kotlin"><code class="language-kotlin">报错原因<span class="token operator">:</span>在<span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>mysql 存在文件解决<span class="token operator">:</span>\rm <span class="token operator">-</span>rf <span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>mysql<span class="token operator">/</span><span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>新特性重要说明:</strong><br> <strong>5.7开始,MySQL加入了全新的 密码的安全机制:</strong><br> <strong>1.初始化完成后,会生成临时密码(显示到屏幕上,并且会往日志中记一份)</strong><br> <strong>2.密码复杂度:长度:超过12位? 复杂度:字符混乱组合</strong><br> <strong>3.密码过期时间180天</strong></p><pre class="line-numbers language-shell"><code class="language-shell">方法二 :初始化数据，初始化管理员的密码为空[root@China /data/app] # rm -rf /data/3306/data/*[root@db01 ~]# mysqld --initialize-insecure  --user=mysql --basedir=/app/mysql --datadir=/data/mysql2019-04-18T03:37:44.042348Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.[root@db01 ~]# [root@db01 ~]# cd /data/mysql/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>注释：5.6初始化的区别</strong></p><pre class="line-numbers language-jsx"><code class="language-jsx"><span class="token punctuation">[</span>root@China <span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token punctuation">]</span> # <span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token operator">/</span>mysql<span class="token operator">/</span>scripts<span class="token operator">/</span>mysql_install_db   <span class="token operator">--</span>user<span class="token operator">=</span>mysql <span class="token operator">--</span>basedir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token operator">/</span>mysql <span class="token operator">--</span>datadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span><span class="token number">3306</span><span class="token operator">/</span>data <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5-6-书写默认配置文件"><a href="#5-6-书写默认配置文件" class="headerlink" title="5.6 书写默认配置文件"></a>5.6 书写默认配置文件</h3><pre class="line-numbers language-jsx"><code class="language-jsx">vim <span class="token regex">/etc/my</span><span class="token punctuation">.</span>cnf<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>user<span class="token operator">=</span>mysqlbasedir<span class="token operator">=</span><span class="token operator">/</span>app<span class="token operator">/</span>mysqldatadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysqlserver_id<span class="token operator">=</span><span class="token number">6</span>port<span class="token operator">=</span><span class="token number">3306</span>socket<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>mysql<span class="token punctuation">.</span>sock<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>socket<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>mysql<span class="token punctuation">.</span>sockprompt<span class="token operator">=</span><span class="token number">3306</span> <span class="token punctuation">[</span>\\d<span class="token punctuation">]</span><span class="token operator">></span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>              <span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>user<span class="token operator">=</span>mysqlbasedir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token operator">/</span>mysqldatadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span><span class="token number">3306</span><span class="token operator">/</span>datasocket<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>mysql<span class="token punctuation">.</span>sock<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>socket<span class="token operator">=</span><span class="token operator">/</span>tmp<span class="token operator">/</span>mysql<span class="token punctuation">.</span>sock<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-7-配置启动脚本"><a href="#5-7-配置启动脚本" class="headerlink" title="5.7 配置启动脚本:"></a>5.7 配置启动脚本:</h3><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token punctuation">[</span>root@db01 mysql<span class="token punctuation">]</span># cd <span class="token operator">/</span>app<span class="token operator">/</span>mysql<span class="token operator">/</span>support<span class="token operator">-</span>files<span class="token punctuation">[</span>root@db01 support<span class="token operator">-</span>files<span class="token punctuation">]</span># <span class="token punctuation">.</span><span class="token operator">/</span>mysql<span class="token punctuation">.</span>server startStarting MySQL<span class="token punctuation">.</span>Logging to <span class="token string">'/data/mysql/db01.err'</span><span class="token punctuation">.</span> SUCCESS<span class="token operator">!</span> cp mysql<span class="token punctuation">.</span>server    <span class="token operator">/</span>etc<span class="token operator">/</span>init<span class="token punctuation">.</span>d<span class="token operator">/</span>mysqld  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>    <span class="token number">6.2</span><span class="token punctuation">.</span><span class="token number">10</span> 准备启动脚本，启动数据库<span class="token punctuation">[</span>root@db01 data<span class="token punctuation">]</span># cp <span class="token operator">/</span>data<span class="token operator">/</span>app<span class="token operator">/</span>mysql<span class="token operator">/</span>support<span class="token operator">-</span>files<span class="token operator">/</span>mysql<span class="token punctuation">.</span>server  <span class="token operator">/</span>etc<span class="token operator">/</span>init<span class="token punctuation">.</span>d<span class="token operator">/</span>mysqld <span class="token punctuation">[</span>root@db01 data<span class="token punctuation">]</span># chkconfig <span class="token operator">--</span><span class="token keyword">add</span> mysqld<span class="token punctuation">[</span>root@db01 data<span class="token punctuation">]</span># systemctl start mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-8-使用systemd管理mysql"><a href="#5-8-使用systemd管理mysql" class="headerlink" title="5.8 使用systemd管理mysql"></a>5.8 使用systemd管理mysql</h3><pre class="line-numbers language-csharp"><code class="language-csharp">vim <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>mysqld<span class="token punctuation">.</span>service <span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>Description<span class="token operator">=</span>MySQL ServerDocumentation<span class="token operator">=</span>man<span class="token punctuation">:</span><span class="token function">mysqld</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>Documentation<span class="token operator">=</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>dev<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>com<span class="token operator">/</span>doc<span class="token operator">/</span>refman<span class="token operator">/</span>en<span class="token operator">/</span><span class="token keyword">using</span><span class="token operator">-</span>systemd<span class="token punctuation">.</span>htmlAfter<span class="token operator">=</span>network<span class="token punctuation">.</span>targetAfter<span class="token operator">=</span>syslog<span class="token punctuation">.</span>target<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>WantedBy<span class="token operator">=</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>User<span class="token operator">=</span>mysqlGroup<span class="token operator">=</span>mysqlExecStart<span class="token operator">=</span><span class="token operator">/</span>app<span class="token operator">/</span>mysql<span class="token operator">/</span>bin<span class="token operator">/</span>mysqld <span class="token operator">--</span>defaults<span class="token operator">-</span>file<span class="token operator">=</span><span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnfLimitNOFILE <span class="token operator">=</span> <span class="token number">5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意：将原来模式启动mysqld先关闭，然后再用systemd管理。</p><pre class="line-numbers language-undefined"><code class="language-undefined">systemctl  start/stop/restart/status   mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="6-安装后的简单管理"><a href="#6-安装后的简单管理" class="headerlink" title="6. 安装后的简单管理"></a>6. 安装后的简单管理</h2><pre class="line-numbers language-css"><code class="language-css">[root@db<span class="token number">01</span> ~]# mysqladmin -uroot -p password <span class="token number">123</span>Enter <span class="token property">password</span><span class="token punctuation">:</span> <span class="token property">mysqladmin</span><span class="token punctuation">:</span> [Warning] Using a password on the command line interface can be insecure<span class="token number">.</span><span class="token property">Warning</span><span class="token punctuation">:</span> Since password will be sent to server in plain text, use ssl connection to ensure password safety<span class="token number">.</span><span class="token number">5.6</span>版本<span class="token punctuation">:</span>select user,password,host from mysql<span class="token number">.</span>user<span class="token punctuation">;</span><span class="token number">5.7</span> 中用户基本信息select user,authentication_string,host from mysql<span class="token number">.</span>user<span class="token punctuation">;</span>desc  mysql<span class="token number">.</span>user<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>小结:<br> 1.版本 (主流版本的GA时间了解一下)</p><pre class="line-numbers language-css"><code class="language-css"><span class="token number">5.6</span> <span class="token number">5.7</span> <span class="token number">5.6.38</span>   <span class="token number">5.7.20</span> <span class="token number">20170913</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 初始化方式变了mysql_install_db   mysqld  --initialize-insecure<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> 用户安全<span class="token number">12</span>位<span class="token number">180</span><span class="token number">4</span>种复杂度<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>密码字段authentication_strings<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2.安装方法:</p><pre class="line-numbers language-undefined"><code class="language-undefined">二进制源码yum <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>3.建库(初始化数据库)</p><pre class="line-numbers language-jsx"><code class="language-jsx">mysqld <span class="token operator">--</span>intialize<span class="token operator">-</span>insecure <span class="token operator">--</span>user<span class="token operator">=</span>mysql <span class="token operator">--</span>basedir<span class="token operator">=</span><span class="token operator">/</span>app<span class="token operator">/</span>mysql <span class="token operator">--</span>datadir<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysql <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>4.简易的配制文件/etc/my.cnf</p><pre class="line-numbers language-undefined"><code class="language-undefined">user basedirdatadir server_idportsocket <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>管理员密码</li></ol><pre class="line-numbers language-undefined"><code class="language-undefined">mysqladmin -uroot -p password xx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="第三章节-MySQL体系结构及基础管理"><a href="#第三章节-MySQL体系结构及基础管理" class="headerlink" title="第三章节 MySQL体系结构及基础管理"></a>第三章节 MySQL体系结构及基础管理</h1><pre><code>1. MySQL 的C/S模型工作结构Client：     自带命令    第三方工具    APIServer :     TCP/IP    Unix Socket2. MySQL 的实例结构实例： mysqld进程 + Master thread + worker thread(IO\SQL\Purge...)+ 预分配内存结构公司： BOSS + 经理 + 员工 + 办公区域   3. mysqld 核心程序工作原理3.1  server 层      ----&gt; Linux  OS3.1.1 连接器 3.1.2 SQL层3.2  engine 层      ----&gt; 文件系统</code></pre><h1 id="终结篇"><a href="#终结篇" class="headerlink" title="终结篇"></a>终结篇</h1><pre><code>第一章节 MySQL 的介绍及规划实施1. 数据库产品时代演变第一代数据库架构：    RDBMS 关系型数据库时代 ： 合的时代    代表产品 ：Oracle 、MSSQL 、MySQL第二代数据库架构：拆的时代    NoSQL  ： Not Only SQL 时代    代表产品： Redis 、MongoDB、ES 第三代数据库架构： 合的时代     NewSQL  ：新型数据库架构时代    代表产品：            阿里系列： OB 、PolarDB            Pincap  ： TiDB            google  ： spanner2. 熟悉数据库行业 定期参加数据库大会db-engines.com http://www.itdks.com/休息20分钟：10:50继续彩蛋： 面试题     1. 请你介绍你熟悉的数据库产品？   你们公司用了哪些数据库产品？    RDBMS ： MySQL  、Oracle  、PG、 MSSQL    NoSQL :  Redis  、MongoDB 、ES 、Memcached    云数据库：RDS    2. 你喜欢MySQL数据库吗？ 平常如何学习的？ MySQL需要具备哪些技能？    热爱。    官档 、源码、看书、视频、参加一些数据库大会。    技能： 大纲3. MySQL 产品分支Oracle MySQL  ：C版 、 E版 、Cluster版Percona MySQL ：最接近于Oracle MySQL MariaDB       ：从5.5+ 以后，10.x +版本阿里：  RDS for MySQL 腾讯：  TDSQL ....4. MySQL的企业版本选择5.7  ： 一般选择最新GA版本  5.7.26   5.7.28 5.6  ： GA 6-12月之间的版本 8.0  ： 一般选择最新GA版本  8.0.17+5.6 版本 2020 10月  常规、扩展服务全部停止5.7 版本 2021 1月   常规服务停止.5. 获取软件https://downloads.mysql.com/archives/[root@db01 app]# md5sum  mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz1daa30a32b99a92062f481bd3ef8694c  mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz[root@db01 app]# MD5: 1daa30a32b99a92062f481bd3ef8694cdiff a  b  6. 手撕 MySQL 5728 二进制版本规划和实施6.1 准备Linux服务器 克隆：Centos 7.6  1核  2G  100G 虚拟机环境IP： 10.0.0.51/24 hostname : db01 防火墙： 关闭 selinux ： 关闭 6.2 上传软件到指定目录6.2.1 创建指定目录mkdir -p  /data/app 6.2.2 上传软件mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz6.2.3 解压制作软连接[root@db01 app]# tar xf mysql-5.7.28-linux-glibc2.12-x86_64.tar.gz [root@db01 app]# ln -s mysql-5.7.28-linux-glibc2.12-x86_64 mysql6.2.4 修改环境变量echo &quot;export PATH=$PATH:/opt/src/mysql/bin&quot; &gt;&gt;/etc/profile# 生效配置 source /etc/profile  # 验证[root@db01 bin]# mysql -Vmysql  Ver 14.14 Distrib 5.7.28, for linux-glibc2.12 (x86_64) using  EditLine wrapper6.2.5 清理遗留环境 # 检查是否有mariadb相关软件[root@db01 ~]# rpm -qa|grep mariadb# 如果有，清理掉 yum remove mariadb-libs -y # 删掉/etc/my.cnf 已有的配置文件 rm -rf /etc/my.cnf 6.2.6 安装依赖包 [root@db01 ~]# yum install -y libaio-devel 6.2.7 创建相关目录、用户，并做授权[root@db01 ~]# mkdir -p /data/3306/data [root@db01 ~]# useradd mysql [root@db01 ~]# chown -R mysql.mysql /data6.2.8 初始化数据# 5.7+ 版本初始化 ：mysqld       --initialize-insecure      --user=mysql      --basedir=/data/app/mysql        --datadir=/data/3306/data 有可能的报错：     1. libaio-devel     2.  [ERROR] --initialize specified but the data directory has files in it. Aborting.    rm -rf /data/3306/data/*6.2.9 准备配置文件 vim /etc/my.cnf [mysqld]user=mysqlbasedir=/data/app/mysqldatadir=/data/3306/datasocket=/tmp/mysql.sock[mysql]socket=/tmp/mysql.sock6.2.10 准备启动脚本，启动数据库[root@db01 data]# cp /data/app/mysql/support-files/mysql.server  /etc/init.d/mysqld [root@db01 data]# chkconfig --add mysqld[root@db01 data]# systemctl start mysqld彩蛋：       1. 5.6 和 5.7 在初始化方面的不同？    5.6 版本：          /data/app/mysql56/scripts/mysql_install_db   --user=mysql --basedir=/data/app/mysql --datadir=/data/3306/data     初始化完成之后，启动数据库，无密码登陆    5.7 版本：          mysqld   --initialize-insecure   --user=mysql   --basedir=/data/app/mysql  --datadir=/data/3306/data    初始化完成之后，启动数据库，无密码登陆    2. 5.7+ 两种初始化方式     （1） --initialize-insecure （不安全）     mysqld   --initialize-insecure   --user=mysql   --basedir=/data/app/mysql  --datadir=/data/3306/data     结果： 初始化完成之后，启动数据库，无密码登陆    （2） --initialize （安全）     mysqld   --initialize    --user=mysql   --basedir=/data/app/mysql  --datadir=/data/3306/data     结果： 初始化完成之后，生成临时密码（4种复杂度、12位），不能用作管理数据库，需要第一次使用之前改掉这个密码。     mysql -uroot -p     Enter password: 此处填写临时密码：     2020-04-21T06:49:15.881987Z 1 [Note] A temporary password is generated for root@localhost: +fCQiY1x:rH-     mysql&gt; alter user root@&#39;localhost&#39; identified by &#39;123&#39;;    [root@db01 data]# mysql -uroot -p123    3. 设置管理员初始密码    [root@db01 data]# mysqladmin     -uroot     -p   password      123    4. 编译安装：源码包       cmake        make         make install        什么时候用？        测试、调试。       二次开发---》 编译安装        定制---》源码包或者配置文件。       定制rpm包---》源码包第一章节作业：      1. 部署5.6版本    2. 部署8.0版本第二章节 MySQL体系结构及基础管理1. MySQL 的C/S模型工作结构Client：     自带命令    第三方工具    APIServer :     TCP/IP    Unix Socket2. MySQL 的实例结构实例： mysqld进程 + Master thread + worker thread(IO\SQL\Purge...)+ 预分配内存结构公司： BOSS + 经理 + 员工 + 办公区域   3. mysqld 核心程序工作原理3.1  server 层      ----&gt; Linux  OS3.1.1 连接器 3.1.2 SQL层3.2  engine 层      ----&gt; 文件系统</code></pre>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
